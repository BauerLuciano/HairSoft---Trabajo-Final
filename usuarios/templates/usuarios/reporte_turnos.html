<h1>Reporte de Turnos</h1>

<form method="get">
    Fecha: <input type="date" name="fecha" value="{{ request.GET.fecha }}">
    Estado:
    <select name="estado">
        <option value="">Todos</option>
        <option value="Pendiente" {% if request.GET.estado=='Pendiente' %}selected{% endif %}>Pendiente</option>
        <option value="Confirmado" {% if request.GET.estado=='Confirmado' %}selected{% endif %}>Confirmado</option>
        <option value="Cancelado" {% if request.GET.estado=='Cancelado' %}selected{% endif %}>Cancelado</option>
    </select>
    Peluquero:
    <select name="peluquero">
        <option value="">Todos</option>
        {% for p in peluqueros %}
        <option value="{{ p.id }}" {% if request.GET.peluquero==p.id|stringformat:"s" %}selected{% endif %}>{{ p.nombre }} {{ p.apellido }}</option>
        {% endfor %}
    </select>
    <button type="submit">Filtrar</button>
</form>

<table border="1">
    <tr>
        <th>Fecha</th>
        <th>Hora</th>
        <th>Cliente</th>
        <th>Peluquero</th>
        <th>Servicio</th>
        <th>Estado</th>
    </tr>
    {% for t in turnos %}
    <tr>
        <td>{{ t.fecha }}</td>
        <td>{{ t.hora }}</td>
        <td>{{ t.cliente }}</td>
        <td>{{ t.peluquero }}</td>
        <td>{{ t.servicio }}</td>
        <td>{{ t.estado }}</td>
    </tr>
    {% endfor %}
</table>
